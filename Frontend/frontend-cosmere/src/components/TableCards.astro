---
import CardCharacter from "../components/CardsCharacters.astro";
import type { Character } from "../lib/utils/fetchCharacters"; 
import { fetchCharacters} from "../lib/utils/fetchCharacters"; 

let characters:  Character[] = [];

try {
  characters = await fetchCharacters();
  console.log(characters);
} catch (error) {
  console.error("Error fetching characters:", error);
}
---

<div class="card-table">
  {characters.map((character) => (
    <CardCharacter {...character} />
  ))}
</div>

<style>
  .card-table {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 35px; 
    justify-content: center; 
    padding: 20px;
    max-width: 80%; 
    margin: 0 auto; 
  }
</style>
